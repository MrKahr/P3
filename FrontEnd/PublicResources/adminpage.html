<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="..\Styles\adminpagestyle.css">
    <link rel="stylesheet" href="..\Styles\dummyStyle.css">
    <title>Adminpage</title>
</head>

<body>
    <header>
        <link rel="stylesheet" href="../Styles/navigatorStyle.css">
        <nav class="topnav">
            <a href="../PublicResources/index.html"><img class="logo" alt="AalborgTableTop logo" src="../Images/AalborgTableTop_Logo.png"></a>
            <a href="../PublicResources/monthCalendar.html">Calendar</a>
            <a href="../PublicResources/notfoundpage.html">CONMAR</a>
            <a href="../PublicResources/notfoundpage.html">About AT</a>
            <a href="../PublicResources/notfoundpage.html">Contact</a>
            <div class="split"><a href="../PublicResources/profilePage/profilepage.html"><img class="logo" alt="AalborgTableTop logo" src="../Images/AalborgTableTop_Logo.png"></a></div>
            <a href="#LogOut" class="split">Log Out</a>
        </nav>
    </header>

    <div class="content">
        <div class="content-left">
            <div class="tab">
                <button class="tablinks" onclick="showTab(event, 'manageUsers')">Manage Users</button>
                <button class="tablinks" onclick="showTab(event, 'manageEvents')">Manage Events</button>
                <button class="tablinks" onclick="showTab(event, 'blogPosts')">Blog Posts</button>
                <button class="tablinks" onclick="showTab(event, 'manageModules')">Manage Modules</button>
            </div>
            
            <div class="tabcontent" id="manageUsers" style="display: none;">
                <div style="overflow-x:auto;">
                    <table>
                        <tr>
                            <th>Username</th>
                            <th>Role</th>
                            <th>Has paid?</th>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                        </tr>
                    </table>
                    <div class="manageUsersButtons" id="manageUsersButtons">
                        <form>
                            <label for="managerole"></label>
                            <select id="managerole" name="Role">
                                <option value="guest">Guest</option>
                                <option value="member">Member</option>
                                <option value="dm">DM</option>
                                <option value="admin">Admin</option>
                                <option value="superadmin">SuperAdmin</option><!-- I think this one will be removed -->
                            </select>
                            <input type="submit" value="Save">
                            <button>Ban User</button>
                        </form>
                    </div>
                </div>
            </div>
    
    
    
            <div class="tabcontent" id="manageEvents" style="display: none;">
                <div style="overflow-x:auto;">
                    <table>
                        <tr>
                            <th>Date</th>
                            <th>Time</th>
                            <th>Location</th>
                            <th>DM</th>
                            <th>Players</th>
                            <th>State</th>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                        </tr>
                    </table>
                    <div class="manageEventsButtons" id="manageEventsButtons">
    
                        <button>Modify</button>
                    </div>
                </div>
            </div>
    
    
    
            <div class="tabcontent" id="blogPosts" style="display: none;">
                <div style="overflow-x:auto;">
                    <table>
                        <tr>
                            <th>Date</th>
                            <th>Title</th>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                        </tr>
                    </table>
                    <div class="blogPostsButtons" id="blogPostsButtons">
                        <form>
                            <button>Edit</button>
                            <button>Delete</button>
                        </form>
                    </div>
                </div>
            </div>
    
            <div class="tabcontent" id="manageModules" style="display: none;">
                <div style="overflow-x:auto;">
                    <table>
                        <tr>
                            <th>Title</th>
                        </tr>
                        <tr>
                            <td></td>
                        </tr>
                        <tr>
                        </tr>
                    </table>
                    <div class="manageModulesButtons" id="manageModulesButtons">
                            <button>Edit</button>
                            <button>Delete</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="content-right">
            <link rel="stylesheet" href="../Styles/navigatorStyle.css">
            <aside class="ProfileMenu" id="ProfileMenu" style="display: block;">
                <ul>
                    <li><a href="../PublicResources/monthCalendar.html">My Events</a></li>
                    <li><a href="../PublicResources/notfoundpage.html">Profile Settings</a></li>
                    <li><div class="MenuSpace"></div></li>
                    <li><a href="../PublicResources/adminpage.html" class="MenuLine">Admin Menu</a></li>
                </ul>
            </aside>
        </div>        
    </div>

    <script>
        function showTab(event, manageTab) {
            let tablinks = document.getElementsByClassName("tablinks");
            for (i = 0; i < tablinks.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            
            document.getElementById('manageUsers').style.display = "none";
            document.getElementById('manageEvents').style.display = "none";
            document.getElementById('blogPosts').style.display = "none";
            document.getElementById('manageModules').style.display = "none";

            document.getElementById(manageTab).style.display = "block";
            event.currentTarget.className += " active";
        }

        let tablerows = document.querySelectorAll('tr');
        Array.from(tablerows).forEach((tablerow, index) =>{
            tablerow.addEventListener('click', () => {
                let clickedRow = event.currentTarget;
                let manageUsersButtons = document.getElementById("manageUsersButtons");
                let manageEventsButtons = document.getElementById("manageEventsButtons");
                let blogPostsButtons = document.getElementById("blogPostsButtons");
                let manageModulesButtons = document.getElementById("manageModulesButtons");
                let positionclickedRow = clickedRow.getBoundingClientRect();
                let buttonTop = positionclickedRow.top + window.scrollY;
                let buttonLeft = positionclickedRow.right + window.scrollX + 1;

                manageUsersButtons.style.top = buttonTop + 'px';
                manageUsersButtons.style.left = buttonLeft + 'px';
                manageUsersButtons.style.display = "block";

                manageEventsButtons.style.top = buttonTop + 'px';
                manageEventsButtons.style.left = buttonLeft + 'px';
                manageEventsButtons.style.display = "block";

                blogPostsButtons.style.top = buttonTop + 'px';
                blogPostsButtons.style.left = buttonLeft + 'px';
                blogPostsButtons.style.display = "block";

                manageModulesButtons.style.top = buttonTop + 'px';
                manageModulesButtons.style.left = buttonLeft + 'px';
                manageModulesButtons.style.display = "block";
            })
        });

    </script>
</body>
</html>